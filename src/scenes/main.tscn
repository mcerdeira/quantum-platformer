[gd_scene load_steps=22 format=3 uid="uid://bveav6ctdlmbu"]

[ext_resource type="Script" path="res://scenes/main.gd" id="1_tvtda"]
[ext_resource type="Texture2D" uid="uid://dbh84l3hbge3s" path="res://sprites/box.png" id="2_6led8"]
[ext_resource type="Shader" path="res://scenes/main.gdshader" id="2_82qdg"]
[ext_resource type="PackedScene" uid="uid://duq0f6y40fuwc" path="res://scenes/surface.tscn" id="2_pqtrm"]
[ext_resource type="Texture2D" uid="uid://djs78nqy60b6t" path="res://sprites/floor_spr_2.png" id="2_ws51s"]
[ext_resource type="Texture2D" uid="uid://cmahogbn2aqwr" path="res://sprites/bomb.png" id="3_gqofx"]
[ext_resource type="Texture2D" uid="uid://d3m4w8m7o2x0f" path="res://sprites/teleporter_box.png" id="3_ma848"]
[ext_resource type="Texture2D" uid="uid://6e6u7tx8wpp5" path="res://sprites/stair.png" id="3_n8kdd"]
[ext_resource type="Script" path="res://scenes/levels/room.gd" id="4_t3tcr"]
[ext_resource type="PackedScene" uid="uid://bheswcl3ede2p" path="res://scenes/kill_zone.tscn" id="5_atbjo"]
[ext_resource type="Texture2D" uid="uid://di4olx4un0owh" path="res://sprites/rock.png" id="5_v07bx"]
[ext_resource type="Texture2D" uid="uid://c1caysi3qny5v" path="res://sprites/prisoner_head.png" id="6_rjva8"]
[ext_resource type="FontFile" uid="uid://cqp5o2vpb07yg" path="res://fonts/prstartk.ttf" id="7_2v1dk"]
[ext_resource type="Texture2D" uid="uid://duuicqxhleoua" path="res://sprites/selected.png" id="7_rtry5"]
[ext_resource type="Texture2D" uid="uid://d0ggyyulssgq5" path="res://sprites/radar.png" id="8_fdv2s"]

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_iwogt"]
texture = ExtResource("2_ws51s")
texture_region_size = Vector2i(32, 32)
0:0/0 = 0
0:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
0:0/0/physics_layer_0/angular_velocity = 0.0
0:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_qr43o"]
texture = ExtResource("3_n8kdd")
texture_region_size = Vector2i(32, 32)
0:0/0 = 0
0:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
0:0/0/physics_layer_0/angular_velocity = 0.0

[sub_resource type="TileSet" id="TileSet_4lr5i"]
tile_size = Vector2i(32, 32)
physics_layer_0/collision_layer = 3
physics_layer_0/collision_mask = 3
sources/0 = SubResource("TileSetAtlasSource_iwogt")
sources/1 = SubResource("TileSetAtlasSource_qr43o")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_knga3"]
shader = ExtResource("2_82qdg")
shader_parameter/apply = true
shader_parameter/amount = 0.1

[sub_resource type="SpriteFrames" id="SpriteFrames_yq7gw"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("3_gqofx")
}],
"loop": true,
"name": &"bomb",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("2_6led8")
}],
"loop": true,
"name": &"clone",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("8_fdv2s")
}],
"loop": true,
"name": &"radar",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("5_v07bx")
}],
"loop": true,
"name": &"rock",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("3_ma848")
}],
"loop": true,
"name": &"teleport",
"speed": 5.0
}]

[sub_resource type="Environment" id="Environment_pu2uo"]
background_mode = 3
ambient_light_source = 2
glow_enabled = true
glow_blend_mode = 1
glow_hdr_threshold = 0.1

[node name="Main" type="Node2D"]
script = ExtResource("1_tvtda")

[node name="frame" type="TileMap" parent="."]
tile_set = SubResource("TileSet_4lr5i")
format = 2
layer_0/tile_data = PackedInt32Array(65535, 0, 0, 131071, 0, 0, 196607, 0, 0, 262143, 0, 0, 524287, 0, 0, 458751, 0, 0, 393215, 0, 0, 327679, 0, 0, 655359, 0, 0, 720895, 0, 0, 786431, 0, 0, 851967, 0, 0, 917503, 0, 0, 983039, 0, 0, 1048575, 0, 0, 1114111, 0, 0, 1179647, 0, 0, 1245183, 0, 0, 1310719, 0, 0, 1376255, 0, 0, 589823, 0, 0, 1441791, 0, 0, 1507327, 0, 0, 1572863, 0, 0, 1638399, 0, 0, 1703935, 0, 0, 1769471, 0, 0, 1835007, 0, 0, 1900543, 0, 0, 1966079, 0, 0, 2031615, 0, 0, 2097151, 0, 0, 2162687, 0, 0, 2228223, 0, 0, 2686975, 0, 0, 2621439, 0, 0, 2555903, 0, 0, 2490367, 0, 0, 2424831, 0, 0, 2359295, 0, 0, 2293759, 0, 0, 2752511, 0, 0, 2818047, 0, 0, 2883583, 0, 0, 2949119, 0, 0, 3014655, 0, 0, 3080191, 0, 0, 3145727, 0, 0, 3211263, 0, 0, 3276799, 0, 0, 3342335, 0, 0, 3407871, 0, 0, 3473407, 0, 0, 3538943, 0, 0, 3604479, 0, 0, 3997695, 0, 0, 3932159, 0, 0, 3866623, 0, 0, 3801087, 0, 0, 3735551, 0, 0, 3670015, 0, 0, 4063231, 0, 0, -1, 0, 0, -65536, 0, 0, -65535, 0, 0, -65534, 0, 0, -65533, 0, 0, -65532, 0, 0, -65531, 0, 0, -65530, 0, 0, -65529, 0, 0, -65528, 0, 0, -65527, 0, 0, -65526, 0, 0, -65525, 0, 0, -65524, 0, 0, -65523, 0, 0, -65522, 0, 0, -65521, 0, 0, -65520, 0, 0, -65519, 0, 0, -65518, 0, 0, -65517, 0, 0, -65516, 0, 0, -65515, 0, 0, -65514, 0, 0, -65513, 0, 0, -65512, 0, 0, -65511, 0, 0, -65510, 0, 0, -65509, 0, 0, -65508, 0, 0, -65507, 0, 0, -65506, 0, 0, -65505, 0, 0, -65504, 0, 0, -65503, 0, 0, -65502, 0, 0, -65501, 0, 0, -65500, 0, 0, -65499, 0, 0, -65498, 0, 0, -65497, 0, 0, -65496, 0, 0, -65495, 0, 0, -65494, 0, 0, -65493, 0, 0, -65492, 0, 0, -65491, 0, 0, -65490, 0, 0, -65489, 0, 0, -65488, 0, 0, -65487, 0, 0, -65486, 0, 0, -65485, 0, 0, -65484, 0, 0, -65483, 0, 0, -65482, 0, 0, -65481, 0, 0, -65480, 0, 0, -65479, 0, 0, -65478, 0, 0, -65477, 0, 0, -65476, 0, 0, -65475, 0, 0, -65474, 0, 0, -65473, 0, 0, -65472, 0, 0, -65471, 0, 0, -65470, 0, 0, -65469, 0, 0, -65468, 0, 0, -65467, 0, 0, -65466, 0, 0, -65465, 0, 0, -65464, 0, 0, -65463, 0, 0, -65462, 0, 0, -65461, 0, 0, -65460, 0, 0, -65459, 0, 0, -65458, 0, 0, -65457, 0, 0, -65456, 0, 0, -65455, 0, 0, -65454, 0, 0, -65453, 0, 0, -65452, 0, 0, -65451, 0, 0, -65450, 0, 0, -65449, 0, 0, -65448, 0, 0, -65447, 0, 0, -65446, 0, 0, -65445, 0, 0, -65444, 0, 0, -65443, 0, 0, -65442, 0, 0, -65441, 0, 0, -65440, 0, 0, -65439, 0, 0, -65438, 0, 0, -65437, 0, 0, -65436, 0, 0, -65435, 0, 0, -65434, 0, 0, -65433, 0, 0, -65432, 0, 0, -65431, 0, 0, -65430, 0, 0, -65429, 0, 0, -65428, 0, 0, -65427, 0, 0, -65426, 0, 0, -65425, 0, 0, -65424, 0, 0, -65423, 0, 0, -65422, 0, 0, -65421, 0, 0, -65420, 0, 0, -65419, 0, 0, -65418, 0, 0, -65417, 0, 0, -65416, 0, 0, -65415, 0, 0, -65414, 0, 0, -65413, 0, 0, -65412, 0, 0, -65411, 0, 0, -65410, 0, 0, -65409, 0, 0, -65408, 0, 0, -65407, 0, 0, -65406, 0, 0, -65405, 0, 0, -65404, 0, 0, -65403, 0, 0, -65402, 0, 0, -65401, 0, 0, -65400, 0, 0, -65399, 0, 0, -65398, 0, 0, -65396, 0, 0, -65395, 0, 0, -65394, 0, 0, -65393, 0, 0, -65397, 0, 0, -65392, 0, 0, 144, 0, 0, 65680, 0, 0, 131216, 0, 0, 196752, 0, 0, 262288, 0, 0, 327824, 0, 0, 393360, 0, 0, 458896, 0, 0, 524432, 0, 0, 589968, 0, 0, 655504, 0, 0, 721040, 0, 0, 786576, 0, 0, 852112, 0, 0, 917648, 0, 0, 983184, 0, 0, 1048720, 0, 0, 1114256, 0, 0, 1179792, 0, 0, 1245328, 0, 0, 1310864, 0, 0, 1376400, 0, 0, 1441936, 0, 0, 1507472, 0, 0, 1573008, 0, 0, 1638544, 0, 0, 1704080, 0, 0, 1769616, 0, 0, 1835152, 0, 0, 1900688, 0, 0, 1966224, 0, 0, 2031760, 0, 0, 2097296, 0, 0, 2162832, 0, 0, 2228368, 0, 0, 2293904, 0, 0, 2359440, 0, 0, 2424976, 0, 0, 2490512, 0, 0, 2556048, 0, 0, 2621584, 0, 0, 2687120, 0, 0, 2752656, 0, 0, 2818192, 0, 0, 2883728, 0, 0, 2949264, 0, 0, 3014800, 0, 0, 3080336, 0, 0, 3145872, 0, 0, 3211408, 0, 0, 3276944, 0, 0, 3342480, 0, 0, 3408016, 0, 0, 3473552, 0, 0, 3539088, 0, 0, 3604624, 0, 0, 3670160, 0, 0, 3735696, 0, 0, 3801232, 0, 0, 3866768, 0, 0, 3932304, 0, 0, 3997840, 0, 0, 4063376, 0, 0, 4128912, 0, 0, 4194448, 0, 0, 4391056, 0, 0, 4456592, 0, 0, 4522128, 0, 0, 4587664, 0, 0, 4653200, 0, 0, 4718736, 0, 0, 4784272, 0, 0, 4849808, 0, 0, 4915344, 0, 0, 4980880, 0, 0, 5046416, 0, 0, 5111952, 0, 0, 5177488, 0, 0, 5243024, 0, 0, 4325520, 0, 0, 4259984, 0, 0, 5308560, 0, 0, 4128767, 0, 0, 4194303, 0, 0, 4259839, 0, 0, 4325375, 0, 0, 4390911, 0, 0, 4456447, 0, 0, 4521983, 0, 0, 4587519, 0, 0, 4653055, 0, 0, 5373951, 0, 0, 5308415, 0, 0, 5242879, 0, 0, 5177343, 0, 0, 5111807, 0, 0, 5046271, 0, 0, 4980735, 0, 0, 4915199, 0, 0, 4849663, 0, 0, 4784127, 0, 0, 4718591, 0, 0)
script = ExtResource("4_t3tcr")

[node name="KillZone" parent="." instance=ExtResource("5_atbjo")]
position = Vector2(614, 2673)

[node name="Surface" parent="." instance=ExtResource("2_pqtrm")]

[node name="FX" type="ColorRect" parent="."]
z_index = 4096
material = SubResource("ShaderMaterial_knga3")
offset_left = -279.0
offset_top = -129.0
offset_right = 1597.0
offset_bottom = 776.0
mouse_filter = 2

[node name="CanvasLayer" type="CanvasLayer" parent="."]
scale = Vector2(1.3, 1.3)
transform = Transform2D(1.3, 0, 0, 1.3, 0, 0)

[node name="Control" type="Control" parent="CanvasLayer"]
layout_mode = 3
anchors_preset = 0
offset_right = 1152.0
offset_bottom = 149.0

[node name="ColorRect" type="ColorRect" parent="CanvasLayer/Control"]
layout_mode = 0
offset_right = 1151.0
offset_bottom = 40.0
color = Color(0, 0, 0, 1)

[node name="PrisonerHead" type="Sprite2D" parent="CanvasLayer/Control"]
position = Vector2(776.154, 19.2308)
scale = Vector2(1.5, 1.5)
texture = ExtResource("6_rjva8")

[node name="counter" type="Label" parent="CanvasLayer/Control/PrisonerHead"]
anchors_preset = -1
anchor_left = -0.0157793
anchor_top = -0.459829
anchor_right = 0.484221
anchor_bottom = -0.459829
offset_left = 16.4103
offset_top = -4.10256
offset_right = 56.4103
offset_bottom = 18.8974
theme_override_fonts/font = ExtResource("7_2v1dk")
text = "x0"
vertical_alignment = 1
metadata/_edit_use_anchors_ = true

[node name="gun_slot0" type="AnimatedSprite2D" parent="CanvasLayer/Control"]
position = Vector2(49.6154, 18)
sprite_frames = SubResource("SpriteFrames_yq7gw")
animation = &"bomb"

[node name="selected0" type="Sprite2D" parent="CanvasLayer/Control"]
visible = false
position = Vector2(49.615, 18)
texture = ExtResource("7_rtry5")

[node name="gun_slot1" type="AnimatedSprite2D" parent="CanvasLayer/Control"]
position = Vector2(97.6154, 18)
sprite_frames = SubResource("SpriteFrames_yq7gw")
animation = &"radar"

[node name="selected1" type="Sprite2D" parent="CanvasLayer/Control"]
visible = false
position = Vector2(97.615, 18)
texture = ExtResource("7_rtry5")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_pu2uo")
